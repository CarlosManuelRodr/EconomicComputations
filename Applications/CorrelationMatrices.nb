(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 11.2' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     59013,       1529]
NotebookOptionsPosition[     53268,       1430]
NotebookOutlinePosition[     53821,       1451]
CellTagsIndexPosition[     53732,       1446]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Correlation matrices", "Title",
 CellChangeTimes->{
  3.7258136004852533`*^9, {3.756757889209317*^9, 3.75675789260408*^9}, {
   3.76133272556527*^9, 3.761332726798462*^9}, {3.775478423788979*^9, 
   3.775478426436393*^9}},ExpressionUUID->"88e840ea-8f4f-4d59-8693-\
0e576135ce92"],

Cell[CellGroupData[{

Cell["Initialization", "Chapter",
 CellChangeTimes->{
  3.725813603446025*^9, {3.7566544290492153`*^9, 
   3.756654437915736*^9}},ExpressionUUID->"f899e93a-32f3-45ef-8edf-\
829894065184"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Needs", "[", 
   RowBox[{"\"\<AdvancedMapping`\>\"", ",", 
    RowBox[{"FileNameJoin", "[", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"ParentDirectory", "[", 
        RowBox[{"NotebookDirectory", "[", "]"}], "]"}], ",", "\"\<Extra\>\"", 
       ",", "\"\<AdvancedMapping.wl\>\""}], "}"}], "]"}]}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"Needs", "[", 
    RowBox[{"\"\<EconomicComputations`\>\"", ",", 
     RowBox[{"FileNameJoin", "[", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"ParentDirectory", "[", 
         RowBox[{"NotebookDirectory", "[", "]"}], "]"}], ",", 
        "\"\<EconomicComputations.wl\>\""}], "}"}], "]"}]}], "]"}], ";"}], 
  "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"Opciones", " ", "de", " ", "estilo"}], " ", 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"smallFontSize", " ", "=", " ", "13"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"bigFontSize", " ", "=", " ", "15"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"plotSize", " ", "=", " ", "500"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"colors", " ", "=", " ", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"ColorData", "[", "\"\<Legacy\>\"", "]"}], "[", 
      "\"\<IndianRed\>\"", "]"}], ",", "Black", ",", "Blue", ",", 
     RowBox[{
      RowBox[{"ColorData", "[", "\"\<Legacy\>\"", "]"}], "[", "\"\<Olive\>\"",
       "]"}]}], "}"}]}], ";"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.725813801477882*^9, 3.725813842354185*^9}, 
   3.7258145952114487`*^9, {3.725815029462809*^9, 3.725815050374353*^9}, {
   3.725822160813527*^9, 3.725822210293992*^9}, {3.725823753066257*^9, 
   3.725823758353553*^9}, {3.7258238497826433`*^9, 3.7258238546235313`*^9}, {
   3.725826159542289*^9, 3.725826159775069*^9}, {3.725886137582262*^9, 
   3.725886137825506*^9}, {3.7258912353102493`*^9, 3.725891240101152*^9}, {
   3.725908856840219*^9, 3.725908857152266*^9}, {3.7259089115580063`*^9, 
   3.725908972319603*^9}, {3.7259090027497673`*^9, 3.725909005775334*^9}, {
   3.725909180222677*^9, 3.7259091821578503`*^9}, {3.725909857689686*^9, 
   3.7259098579284143`*^9}, {3.725911306756922*^9, 3.725911361342228*^9}, {
   3.725912152652165*^9, 3.725912229638928*^9}, {3.726161944526227*^9, 
   3.726161945773011*^9}, {3.726162117625463*^9, 3.726162117919694*^9}, {
   3.7261623472179117`*^9, 3.726162354684567*^9}, {3.726240902388068*^9, 
   3.726240902728302*^9}, {3.7262409758805933`*^9, 3.7262410033188047`*^9}, {
   3.726241262768165*^9, 3.726241304212583*^9}, {3.726241408073407*^9, 
   3.7262414175265408`*^9}, 3.726323552579049*^9, {3.7263273579102097`*^9, 
   3.726327359364676*^9}, {3.726327490478724*^9, 3.726327492005521*^9}, {
   3.726328254122326*^9, 3.726328257125023*^9}, {3.726328292868544*^9, 
   3.726328302032453*^9}, {3.7263291584760113`*^9, 3.726329172180461*^9}, {
   3.726329598747867*^9, 3.7263296020649557`*^9}, {3.7263307200371113`*^9, 
   3.726330776967119*^9}, {3.726331621514995*^9, 3.726331622870336*^9}, {
   3.726347600616104*^9, 3.726347608614952*^9}, {3.7263521315766897`*^9, 
   3.726352137598084*^9}, {3.726410318377204*^9, 3.726410319653459*^9}, 
   3.7264104024623423`*^9, {3.738611169349203*^9, 3.7386111782316427`*^9}, {
   3.738611222933153*^9, 3.738611250476118*^9}, {3.7566544178947763`*^9, 
   3.75665441991775*^9}, {3.756654453745466*^9, 3.756654487319433*^9}, 
   3.7566547895902443`*^9, {3.75665485095689*^9, 3.7566548610389843`*^9}, {
   3.761332937165599*^9, 3.761332962440831*^9}, {3.761332995433766*^9, 
   3.7613330062208347`*^9}, 3.77547795015276*^9, {3.775478416959676*^9, 
   3.77547841836719*^9}},
 CellLabel->"In[1]:=",ExpressionUUID->"e235a283-3f68-43bf-955f-43950f9ccb4e"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ExportImages", "[", 
    RowBox[{"file_", ",", "frames_"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"indexLength", ",", "directory", ",", "name"}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"indexLength", " ", "=", " ", 
       RowBox[{"Length", "[", 
        RowBox[{"IntegerDigits", "[", 
         RowBox[{"Length", "[", "frames", "]"}], "]"}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"directory", " ", "=", " ", 
       RowBox[{"DirectoryName", "[", "file", "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"name", " ", "=", " ", 
       RowBox[{"FileBaseName", "[", "file", "]"}]}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"MapIndexed", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"Export", "[", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"FileNameJoin", "[", 
            RowBox[{"{", 
             RowBox[{"directory", ",", 
              RowBox[{"StringJoin", "[", 
               RowBox[{"name", ",", 
                RowBox[{"IntegerString", "[", 
                 RowBox[{"#2", ",", "10", ",", "indexLength"}], "]"}], ",", 
                "\"\<.png\>\""}], "]"}]}], "}"}], "]"}], ",", 
           "\[IndentingNewLine]", "#1"}], "\[IndentingNewLine]", "]"}], "&"}],
         ",", "\[IndentingNewLine]", "frames"}], "\[IndentingNewLine]", 
       "]"}]}]}], "\[IndentingNewLine]", "]"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.755269580353081*^9, 3.7552696262331333`*^9}},
 CellLabel->"In[7]:=",ExpressionUUID->"d56489aa-9dd2-43c6-8c62-f3bd38d6facd"],

Cell[CellGroupData[{

Cell["Package information", "Subsection",
 CellChangeTimes->{{3.7380019972646837`*^9, 
  3.738002000538846*^9}},ExpressionUUID->"c94f095a-865f-4658-94b2-\
ba0e547c93ba"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"?", "AdvancedMapping`*"}]], "Input",
 CellLabel->"In[35]:=",ExpressionUUID->"610fe912-1df5-45e1-996f-0f46af0565c0"],

Cell[BoxData[
 DynamicModuleBox[{Typeset`open$$ = True}, 
  PaneSelectorBox[{False->
   RowBox[{
    OpenerBox[Dynamic[Typeset`open$$],
     ImageSize->Small], 
    StyleBox["AdvancedMapping`", "InfoHeading"]}], True->GridBox[{
     {
      RowBox[{
       OpenerBox[Dynamic[Typeset`open$$],
        ImageSize->Small], 
       StyleBox["AdvancedMapping`", "InfoHeading"]}]},
     {GridBox[{
        {
         ButtonBox["EvaluateIfChanged",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info353756455553-4269725", {
            "EvaluateIfChanged", "AdvancedMapping`"}},
          ButtonNote->"AdvancedMapping`"], 
         ButtonBox["LinkEvaluate",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info353756455553-4269725", {"LinkEvaluate", "AdvancedMapping`"}},
          ButtonNote->"AdvancedMapping`"], 
         ButtonBox["MapPattern",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info353756455553-4269725", {"MapPattern", "AdvancedMapping`"}},
          ButtonNote->"AdvancedMapping`"], 
         ButtonBox["ParallelMapThread",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info353756455553-4269725", {
            "ParallelMapThread", "AdvancedMapping`"}},
          ButtonNote->"AdvancedMapping`"], 
         ButtonBox["ProgressParallelMapThread",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info353756455553-4269725", {
            "ProgressParallelMapThread", "AdvancedMapping`"}},
          ButtonNote->"AdvancedMapping`"]},
        {
         ButtonBox["EvaluateOnce",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info353756455553-4269725", {"EvaluateOnce", "AdvancedMapping`"}},
          ButtonNote->"AdvancedMapping`"], 
         ButtonBox["LinkParallelEvaluate",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info353756455553-4269725", {
            "LinkParallelEvaluate", "AdvancedMapping`"}},
          ButtonNote->"AdvancedMapping`"], 
         ButtonBox["NestApplyList",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info353756455553-4269725", {"NestApplyList", "AdvancedMapping`"}},
          
          ButtonNote->"AdvancedMapping`"], 
         ButtonBox["ProgressMap",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info353756455553-4269725", {"ProgressMap", "AdvancedMapping`"}},
          ButtonNote->"AdvancedMapping`"], 
         ButtonBox["ProgressParallelTable",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info353756455553-4269725", {
            "ProgressParallelTable", "AdvancedMapping`"}},
          ButtonNote->"AdvancedMapping`"]},
        {
         ButtonBox["FoldWhile",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info353756455553-4269725", {"FoldWhile", "AdvancedMapping`"}},
          ButtonNote->"AdvancedMapping`"], 
         ButtonBox["MapIf",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info353756455553-4269725", {"MapIf", "AdvancedMapping`"}},
          ButtonNote->"AdvancedMapping`"], 
         ButtonBox["NestApplyWhileList",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info353756455553-4269725", {
            "NestApplyWhileList", "AdvancedMapping`"}},
          ButtonNote->"AdvancedMapping`"], 
         ButtonBox["ProgressMapThread",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info353756455553-4269725", {
            "ProgressMapThread", "AdvancedMapping`"}},
          ButtonNote->"AdvancedMapping`"], 
         ButtonBox["ProgressTable",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info353756455553-4269725", {"ProgressTable", "AdvancedMapping`"}},
          
          ButtonNote->"AdvancedMapping`"]},
        {
         ButtonBox["FoldWhileList",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info353756455553-4269725", {"FoldWhileList", "AdvancedMapping`"}},
          
          ButtonNote->"AdvancedMapping`"], 
         ButtonBox["MapIfElse",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info353756455553-4269725", {"MapIfElse", "AdvancedMapping`"}},
          ButtonNote->"AdvancedMapping`"], 
         ButtonBox["NestListIndexed",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info353756455553-4269725", {
            "NestListIndexed", "AdvancedMapping`"}},
          ButtonNote->"AdvancedMapping`"], 
         ButtonBox["ProgressParallelMap",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info353756455553-4269725", {
            "ProgressParallelMap", "AdvancedMapping`"}},
          ButtonNote->"AdvancedMapping`"], ""}
       },
       DefaultBaseStyle->"InfoGrid",
       GridBoxItemSize->{"Columns" -> {{
            Scaled[0.19]}}}]}
    },
    GridBoxAlignment->{"Columns" -> {{Left}}, "Rows" -> {{Baseline}}}]}, 
   Dynamic[Typeset`open$$],
   ImageSize->Automatic]]], "Print", "InfoCell",
 CellChangeTimes->{
  3.75647715380416*^9},ExpressionUUID->"4ad4f3a3-27a5-4ddb-a35a-4f93cc650d56"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"?", "EconomicComputations`*"}]], "Input",
 CellChangeTimes->{3.738002019236318*^9},
 CellLabel->
  "In[178]:=",ExpressionUUID->"4a172e87-b256-4b32-b5ac-ddcd146f8c77"],

Cell[CellGroupData[{

Cell[BoxData[
 DynamicModuleBox[{Typeset`open$$ = True}, 
  PaneSelectorBox[{False->
   RowBox[{
    OpenerBox[Dynamic[Typeset`open$$],
     ImageSize->Small], 
    StyleBox["EconomicComputations`", "InfoHeading"]}], True->GridBox[{
     {
      RowBox[{
       OpenerBox[Dynamic[Typeset`open$$],
        ImageSize->Small], 
       StyleBox["EconomicComputations`", "InfoHeading"]}]},
     {GridBox[{
        {
         ButtonBox["AddKeyToMarket",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "AddKeyToMarket", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["DatedTrendDuration",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "DatedTrendDuration", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["EventProbability",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "EventProbability", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["GetExtremeEventDateValues",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "GetExtremeEventDateValues", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["MeasureTn",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "MeasureTn", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["RightCutoff",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "RightCutoff", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["TrendReturns",
          BaseStyle->"InformationLink",
          ButtonData:>{
           "Info1783761316460-1734536", {
            "TrendReturns", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"]},
        {
         ButtonBox["AddToDataset",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "AddToDataset", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["DatedTrendReturns",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "DatedTrendReturns", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["ExportDatabase",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "ExportDatabase", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["KullbackLeibler",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "KullbackLeibler", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["MultiscaleReturns",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "MultiscaleReturns", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["SelectDatedGaussianReturns",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "SelectDatedGaussianReturns", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["UncorrelatedMultiscaleReturns",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "UncorrelatedMultiscaleReturns", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"]},
        {
         ButtonBox["CalculateCutoff",
          BaseStyle->"InformationLink",
          ButtonData:>{
           "Info1783761316460-1734536", {
            "CalculateCutoff", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["DatedVelocityTrendReturns",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "DatedVelocityTrendReturns", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["ExportMarket",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "ExportMarket", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["KullbackLeiblerInTime",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "KullbackLeiblerInTime", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["PowerLawAndersonDarling",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "PowerLawAndersonDarling", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["SelectGaussianReturns",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "SelectGaussianReturns", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["UncorrelatedReturns",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "UncorrelatedReturns", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"]},
        {
         ButtonBox["DatasetBuilderDialog",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "DatasetBuilderDialog", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["DetendedMultiscaleReturns",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "DetendedMultiscaleReturns", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["ExtremeEventThreshold",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "ExtremeEventThreshold", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["LeftCutoff",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "LeftCutoff", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["PricesFromReturns",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "PricesFromReturns", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["SimpleReturns",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "SimpleReturns", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["UpperPercentagePoint",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "UpperPercentagePoint", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"]},
        {
         ButtonBox["DatedReturns",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "DatedReturns", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["DetrendedReturns",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "DetrendedReturns", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["FindImportantDates",
          BaseStyle->"InformationLink",
          ButtonData:>{
           "Info1783761316460-1734536", {
            "FindImportantDates", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["MeasureHeightDistance",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "MeasureHeightDistance", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["PricesFromSimpleReturns",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "PricesFromSimpleReturns", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["Tn",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {"Tn", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["UpwardTrendDuration",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "UpwardTrendDuration", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"]},
        {
         ButtonBox["DatedSimpleReturns",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "DatedSimpleReturns", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["DownwardTrendDuration",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "DownwardTrendDuration", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["GetExtremeEventDates",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "GetExtremeEventDates", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["MeasureHeightRatio",
          BaseStyle->"InformationLink",
          ButtonData:>{
           "Info1783761316460-1734536", {
            "MeasureHeightRatio", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["Returns",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {"Returns", "EconomicComputations`"}},
          
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["TrendDuration",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "TrendDuration", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"], 
         ButtonBox["VelocityTrendReturns",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info1783761316460-1734536", {
            "VelocityTrendReturns", "EconomicComputations`"}},
          ButtonNote->"EconomicComputations`"]}
       },
       DefaultBaseStyle->"InfoGrid",
       GridBoxItemSize->{"Columns" -> {{
            Scaled[0.1357142857142857]}}}]}
    },
    GridBoxAlignment->{"Columns" -> {{Left}}, "Rows" -> {{Baseline}}}]}, 
   Dynamic[Typeset`open$$],
   ImageSize->Automatic]]], "Print", "InfoCell",
 CellChangeTimes->{
  3.7613380600925913`*^9},ExpressionUUID->"6a48294c-f325-42a1-97e4-\
793bc5102b03"],

Cell[BoxData["\<\"\\n\\!\\(\\*\\nStyleBox[\\\"DatedTrendDuration\\\",\\\
nFontWeight->\\\"Bold\\\"]\\)[\\!\\(\\*\\nStyleBox[\\\"datedprices\\\",\\\
nFontSlant->\\\"Italic\\\"]\\)]\\n\\!\\(\\*\\nStyleBox[\\\"DatedTrendDuration\
\\\",\\nFontWeight->\\\"Bold\\\"]\\)[\\!\\(\\*\\nStyleBox[\\\"dates\\\",\\\
nFontSlant->\\\"Italic\\\"]\\), \
\\!\\(\\*\\nStyleBox[\\\"prices\\\",\\nFontSlant->\\\"Italic\\\"]\\)]\\\
ncalculates TrendDuration with date info.\"\>"], "Print", "PrintUsage",
 CellTags->
  "Info1783761316460-1734536",ExpressionUUID->"0bd904c5-d636-4ac4-ac96-\
5392ddc0b8a0"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Database", "Chapter",
 CellChangeTimes->{{3.756650145182481*^9, 
  3.756650165173324*^9}},ExpressionUUID->"a8a789b8-ded9-4a5d-b58a-\
e23e4cd8766a"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"path", " ", "=", " ", 
   RowBox[{"FileNameJoin", "[", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"ParentDirectory", "[", 
       RowBox[{"NotebookDirectory", "[", "]"}], "]"}], ",", 
      "\"\<Datasets\>\"", ",", "\"\<sp500v2.wdx\>\""}], "}"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"database", " ", "=", " ", 
   RowBox[{"Import", "[", "path", "]"}]}], ";"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{
  3.725908928874539*^9, {3.7386112566008368`*^9, 3.7386112689098263`*^9}, {
   3.7564739455548563`*^9, 3.756473966482794*^9}, {3.756477138657824*^9, 
   3.7564771389575453`*^9}, {3.76133308942835*^9, 3.761333091876583*^9}, {
   3.771960534143981*^9, 3.771960545447304*^9}, {3.772036063276965*^9, 
   3.7720360665464077`*^9}, {3.772036241194306*^9, 3.77203625287162*^9}, {
   3.775477961165186*^9, 3.775477969288271*^9}, 3.7754780131425*^9, {
   3.775478432089346*^9, 3.7754784462814817`*^9}, {3.775479579136242*^9, 
   3.775479595026326*^9}, {3.775495213000987*^9, 3.7754952131532497`*^9}},
 CellLabel->"In[8]:=",ExpressionUUID->"2fa64f7c-262f-4161-a7b3-543fbe095465"],

Cell[BoxData[
 RowBox[{
  RowBox[{"database", " ", "=", " ", 
   RowBox[{"SortBy", "[", 
    RowBox[{"database", ",", 
     RowBox[{
      RowBox[{"#", "[", "\"\<Sector\>\"", "]"}], "&"}]}], "]"}]}], 
  ";"}]], "Input",
 InitializationCell->True,
 CellLabel->"In[10]:=",ExpressionUUID->"f895c49f-09a7-4995-850b-a8c9a587def6"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Correlation matrix", "Chapter",
 CellChangeTimes->{{3.77547970681536*^9, 
  3.775479709085246*^9}},ExpressionUUID->"0190611d-f45f-4a02-975e-\
91126c56f5fd"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"GetPartitionedKey", "[", 
    RowBox[{"database_", ",", "key_", ",", "partitionSize_", ",", "skip_"}], 
    "]"}], ":=", 
   RowBox[{"Transpose", "[", 
    RowBox[{"Map", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"Partition", "[", 
        RowBox[{
         RowBox[{"#", "[", "key", "]"}], ",", "partitionSize", ",", "skip"}], 
        "]"}], "&"}], ",", "database"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"GetPartitionedKey", "[", 
    RowBox[{
    "database_", ",", "key_", ",", "partitionSize_", ",", "skip_", ",", 
     "drop_"}], "]"}], ":=", 
   RowBox[{"Transpose", "[", 
    RowBox[{"Map", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"Partition", "[", 
        RowBox[{
         RowBox[{"Drop", "[", 
          RowBox[{
           RowBox[{"#", "[", "key", "]"}], ",", "drop"}], "]"}], ",", 
         "partitionSize", ",", "skip"}], "]"}], "&"}], ",", "database"}], 
     "]"}], "]"}]}], ";"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.775847140221676*^9, 3.775847168823791*^9}, {
  3.775847232645781*^9, 3.775847293802814*^9}, {3.775853325449407*^9, 
  3.7758533363428373`*^9}, {3.775853415117515*^9, 3.775853440736805*^9}, {
  3.7758535256169443`*^9, 3.775853552673918*^9}, {3.775913307488657*^9, 
  3.7759133335981617`*^9}},
 CellLabel->"In[11]:=",ExpressionUUID->"92d43ea2-685b-46e5-91fa-0f46008f0bcf"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Middle", "[", 
    RowBox[{"l_List", " ", "/;", " ", 
     RowBox[{
      RowBox[{"Length", "[", "l", "]"}], ">", "1"}]}], "]"}], ":=", 
   RowBox[{"Part", "[", 
    RowBox[{"l", ",", 
     RowBox[{"Floor", "[", 
      RowBox[{
       RowBox[{"Length", "[", "l", "]"}], "/", "2"}], "]"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"Middle", "[", 
    RowBox[{"l_List", " ", "/;", " ", 
     RowBox[{
      RowBox[{"Length", "[", "l", "]"}], "==", "1"}]}], "]"}], ":=", 
   RowBox[{"First", "[", "l", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"FirstLast", "[", "l_", "]"}], ":=", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"First", "[", "l", "]"}], ",", 
      RowBox[{"Last", "[", "l", "]"}]}], "}"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"MarketStatePlot", "[", 
    RowBox[{"corrMatrix_", ",", 
     RowBox[{"date_:", "None"}]}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"ticksHorizontal", ",", "ticksVertical"}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"ticksHorizontal", " ", "=", " ", 
       RowBox[{"Map", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"Middle", "[", 
             RowBox[{"Last", "[", "#", "]"}], "]"}], ",", 
            RowBox[{"First", "[", "#", "]"}]}], "}"}], "&"}], ",", 
         RowBox[{"Normal", "[", 
          RowBox[{"PositionIndex", "[", 
           RowBox[{"database", "[", 
            RowBox[{"[", 
             RowBox[{"All", ",", "\"\<Sector\>\""}], "]"}], "]"}], "]"}], 
          "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"ticksVertical", " ", "=", " ", 
       RowBox[{"MapAt", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Column", "[", 
           RowBox[{
            RowBox[{"Characters", "[", "#", "]"}], ",", 
            RowBox[{"Spacings", "\[Rule]", 
             RowBox[{"-", "0.2"}]}]}], "]"}], "&"}], ",", "ticksHorizontal", 
         ",", 
         RowBox[{"{", 
          RowBox[{"All", ",", "2"}], "}"}]}], "]"}]}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"MatrixPlot", "[", "\[IndentingNewLine]", 
       RowBox[{"corrMatrix", ",", "\[IndentingNewLine]", 
        RowBox[{"FrameTicks", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"ticksHorizontal", "[", 
              RowBox[{"[", 
               RowBox[{"1", ";;", 
                RowBox[{"-", "1"}], ";;", "2"}], "]"}], "]"}], ",", "None"}], 
            "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"ticksVertical", "[", 
              RowBox[{"[", 
               RowBox[{"2", ";;", 
                RowBox[{"-", "1"}], ";;", "2"}], "]"}], "]"}], ",", "None"}], 
            "}"}]}], "}"}]}], ",", "\[IndentingNewLine]", 
        RowBox[{"PlotTheme", "\[Rule]", "\"\<Monochrome\>\""}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"Frame", "\[Rule]", "True"}], ",", "\[IndentingNewLine]", 
        RowBox[{"ColorFunction", "\[Rule]", 
         RowBox[{"ColorData", "[", "\"\<LightTemperatureMap\>\"", "]"}]}], 
        ",", "\[IndentingNewLine]", 
        RowBox[{"PlotRange", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"-", "1"}], ",", "1"}], "}"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"PlotLabel", "\[Rule]", "date"}], ",", "\[IndentingNewLine]", 
        
        RowBox[{"ImageSize", "\[Rule]", "800"}], ",", "\[IndentingNewLine]", 
        RowBox[{"PlotLegends", "\[Rule]", "Automatic"}]}], 
       "\[IndentingNewLine]", "]"}]}]}], "\[IndentingNewLine]", "]"}]}], 
  ";"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->CompressedData["
1:eJwdzVsog2EAxvEvyTGH1ppoakOyKRSzlalplEWtbyylNU0tYWFqSFkrhRKx
FsmhHCMj3MiFViwpcpjmtNjUymk3lpuxxfe8F0+/m6f+/OZOlT6KoqhMZvC+
cLXziR+oUIcCJmg5uxyGpxLWCDRr8xxwSuRxw9HS2Qd4kZngg22H7PxnRivP
WQDf1THFUHr1Qax8SVuG2W81K/C2WnAJ/ewg0cDyu2HqjtgD6aH0EPkvzoch
J/Ka5GVMDHNTYFGjow7yuq+IZSrNsY/xxHBHfN5SbP8wdgw07MH2/eQgNC4Y
ic3Rpj+YEzdN/aJ/I4qFTtNmAjyI9HLgml3Dg0ufSgGck5UI4YTMVgx1M49i
aP82lsPaTysxVy6Qw37XeBXcjT9TQFuTl3j+NagkPY6OhnRjvRaauS16uNFa
2AV9Qmk3DLt0PfDoOrkPjhslFsjOyhiD1HrBJAzSsgX4Dx0j8aI=
  "],
 CellLabel->"In[13]:=",ExpressionUUID->"f362cc49-b40d-4adf-ac78-6a7b326fcc34"],

Cell[CellGroupData[{

Cell["Para precios", "Subsection",
 CellChangeTimes->{{3.77591083896563*^9, 
  3.775910840111013*^9}},ExpressionUUID->"832ce087-1c50-4aa5-be67-\
10736285a049"],

Cell["Crear partici\[OAcute]n de fechas y precios", "Text",
 CellChangeTimes->{{3.775910801040597*^9, 
  3.7759108055335493`*^9}},ExpressionUUID->"cc0d0266-26c7-463e-b8c2-\
440208c3bdf7"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"temporalMarketMatrix", " ", "=", " ", 
   RowBox[{"GetPartitionedKey", "[", 
    RowBox[{"database", ",", "\"\<Prices\>\"", ",", "100", ",", "10"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"partitionedDates", " ", "=", " ", 
   RowBox[{"GetPartitionedKey", "[", 
    RowBox[{"database", ",", "\"\<Dates\>\"", ",", "100", ",", "10"}], 
    "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.775847325602611*^9, 3.7758473424048147`*^9}, {
   3.775849503198127*^9, 3.77584951887531*^9}, {3.775853556756112*^9, 
   3.7758535637389393`*^9}, {3.77585381592441*^9, 3.775853816197097*^9}, 
   3.775855592085207*^9},
 CellLabel->"In[15]:=",ExpressionUUID->"c484f9aa-f502-41d7-830c-c8d996f4b3c3"],

Cell["Obtener matriz de correlaci\[OAcute]n", "Text",
 CellChangeTimes->{{3.775910809495335*^9, 
  3.775910813606175*^9}},ExpressionUUID->"e9b03335-1803-45b8-8f63-\
4abe98f63516"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"corrMatrices", " ", "=", " ", 
   RowBox[{"ProgressMap", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"Correlation", "[", 
       RowBox[{"Transpose", "[", "#", "]"}], "]"}], "&"}], ",", 
     "temporalMarketMatrix"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"dateIntervals", " ", "=", " ", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"FirstLast", "[", 
      RowBox[{"partitionedDates", "[", 
       RowBox[{"[", 
        RowBox[{"i", ",", "1"}], "]"}], "]"}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", 
       RowBox[{"Length", "[", "partitionedDates", "]"}]}], "}"}]}], "]"}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.775849645728591*^9, 3.7758496852544823`*^9}, {
  3.775849721015294*^9, 3.775849723301145*^9}, {3.775849866506526*^9, 
  3.775849867947589*^9}, {3.775850252863413*^9, 3.775850275921857*^9}, {
  3.775853824578127*^9, 3.775853828562851*^9}},
 CellLabel->"In[17]:=",ExpressionUUID->"e0239cc0-d64d-40d8-b2be-92cd9af2d0c7"],

Cell["Graficar", "Text",
 CellChangeTimes->{{3.7759108257066717`*^9, 
  3.7759108268339853`*^9}},ExpressionUUID->"693f3cf3-f618-4545-81a6-\
92d7d049a8bd"],

Cell[BoxData[
 RowBox[{
  RowBox[{"plots", " ", "=", " ", 
   RowBox[{"ProgressTable", "[", 
    RowBox[{
     RowBox[{"MarketStatePlot", "[", 
      RowBox[{
       RowBox[{"corrMatrices", "[", 
        RowBox[{"[", "i", "]"}], "]"}], ",", 
       RowBox[{"dateIntervals", "[", 
        RowBox[{"[", "i", "]"}], "]"}]}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", 
       RowBox[{"Length", "[", "corrMatrices", "]"}]}], "}"}]}], "]"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{
  3.775852332437978*^9, {3.7758538658896437`*^9, 3.775853867737245*^9}, {
   3.775854887269095*^9, 3.775854902356591*^9}, 3.775855182576252*^9},
 CellLabel->"In[27]:=",ExpressionUUID->"f052b6cb-6b50-4816-8ab1-44862c04ca12"],

Cell[BoxData[
 RowBox[{"Manipulate", "[", 
  RowBox[{
   RowBox[{"Part", "[", 
    RowBox[{"plots", ",", "i"}], "]"}], ",", 
   RowBox[{"{", 
    RowBox[{"i", ",", "1", ",", 
     RowBox[{"Length", "[", "plots", "]"}], ",", "1"}], "}"}]}], 
  "]"}]], "Input",
 CellChangeTimes->{{3.7758548131477222`*^9, 3.775854814621896*^9}, {
  3.775854867212921*^9, 3.775854867422586*^9}},
 CellLabel->"In[34]:=",ExpressionUUID->"ffce906f-52e6-4dd0-96a3-ef1068add58b"],

Cell["Exportar", "Text",
 CellChangeTimes->{{3.775910791136424*^9, 
  3.775910792823645*^9}},ExpressionUUID->"4ac8c1b0-b3d6-4761-9a5a-\
5a0ed2f0d16c"],

Cell[BoxData[
 RowBox[{"ExportImages", "[", 
  RowBox[{
   RowBox[{"FileNameJoin", "[", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"NotebookDirectory", "[", "]"}], ",", 
      "\"\<CorrelationMatrix\>\"", ",", "\"\<corr.png\>\""}], "}"}], "]"}], 
   ",", "plots"}], "]"}]], "Input",ExpressionUUID->"a168c0c3-a772-497e-801f-\
f178a5af89c0"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Para retornos", "Subsection",
 CellChangeTimes->{{3.775911003366955*^9, 
  3.775911005407488*^9}},ExpressionUUID->"b67f7328-96bd-4c86-940f-\
6d7e67e1b02c"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"temporalMarketMatrix", " ", "=", " ", 
   RowBox[{"GetPartitionedKey", "[", 
    RowBox[{"database", ",", "\"\<Returns\>\"", ",", "100", ",", "10"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"partitionedDates", " ", "=", " ", 
   RowBox[{"GetPartitionedKey", "[", 
    RowBox[{
    "database", ",", "\"\<Dates\>\"", ",", "100", ",", "10", ",", "1"}], 
    "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.7759110432440577`*^9, 3.775911044105362*^9}, {
   3.77591327885469*^9, 3.775913279310052*^9}, 
   3.77591434066826*^9},ExpressionUUID->"c97fa9cc-82b5-4471-ad4c-\
c2ba26e99cf0"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"corrMatrices", " ", "=", " ", 
   RowBox[{"ProgressMap", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"Correlation", "[", 
       RowBox[{"Transpose", "[", "#", "]"}], "]"}], "&"}], ",", 
     "temporalMarketMatrix"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"dateIntervals", " ", "=", " ", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"FirstLast", "[", 
      RowBox[{"partitionedDates", "[", 
       RowBox[{"[", 
        RowBox[{"i", ",", "1"}], "]"}], "]"}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", 
       RowBox[{"Length", "[", "partitionedDates", "]"}]}], "}"}]}], "]"}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.775914362072171*^9, 
  3.775914362357918*^9}},ExpressionUUID->"7b8827a1-ace2-4ee3-9856-\
7394ad68c5a0"],

Cell[BoxData[
 RowBox[{
  RowBox[{"plots", " ", "=", " ", 
   RowBox[{"ProgressTable", "[", 
    RowBox[{
     RowBox[{"MarketStatePlot", "[", 
      RowBox[{
       RowBox[{"corrMatrices", "[", 
        RowBox[{"[", "i", "]"}], "]"}], ",", 
       RowBox[{"dateIntervals", "[", 
        RowBox[{"[", "i", "]"}], "]"}]}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", 
       RowBox[{"Length", "[", "corrMatrices", "]"}]}], "}"}]}], "]"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.7759113313859863`*^9, 3.7759113316402807`*^9}, {
  3.775914399249621*^9, 3.775914399447879*^9}},
 CellLabel->
  "In[253]:=",ExpressionUUID->"2afc1226-960d-4683-a881-28279c30229a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ExportImages", "[", 
   RowBox[{
    RowBox[{"FileNameJoin", "[", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"NotebookDirectory", "[", "]"}], ",", 
       "\"\<CorrelationMatrix\>\"", ",", "\"\<corr.png\>\""}], "}"}], "]"}], 
    ",", "plots"}], "]"}], ";"}]], "Input",
 CellChangeTimes->{
  3.7759164507556953`*^9},ExpressionUUID->"f4bfcd17-ab46-4570-8a1e-\
8a38b166137b"],

Cell[BoxData[
 RowBox[{"Manipulate", "[", 
  RowBox[{
   RowBox[{"Part", "[", 
    RowBox[{"plots", ",", "i"}], "]"}], ",", 
   RowBox[{"{", 
    RowBox[{"i", ",", "1", ",", 
     RowBox[{"Length", "[", "plots", "]"}], ",", "1"}], "}"}]}], 
  "]"}]], "Input",
 CellLabel->"In[23]:=",ExpressionUUID->"22494701-edc0-472a-80ff-675918ca2f54"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Record breaking", "Subsection",
 CellChangeTimes->{{3.7759164555616198`*^9, 
  3.775916459637001*^9}},ExpressionUUID->"538c971a-9c7f-42f1-a404-\
0c20aacc8d2a"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"NewRecord", "[", 
    RowBox[{"lastRecord_", ",", "list_"}], "]"}], ":=", 
   RowBox[{"SelectFirst", "[", 
    RowBox[{"list", ",", 
     RowBox[{
      RowBox[{"#", ">", "lastRecord"}], "&"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"GetRecords", "[", "list_", "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"recordCanditates", ",", "records"}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"recordCanditates", " ", "=", " ", 
       RowBox[{"DeleteDuplicates", "[", "list", "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"records", " ", "=", " ", 
       RowBox[{"DeleteCases", "[", 
        RowBox[{
         RowBox[{"Drop", "[", 
          RowBox[{
           RowBox[{"FixedPointList", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"NewRecord", "[", 
               RowBox[{"#", ",", "recordCanditates"}], "]"}], "&"}], ",", 
             "0"}], "]"}], ",", "1"}], "]"}], ",", "_Missing"}], "]"}]}], ";",
       "\[IndentingNewLine]", 
      RowBox[{"Return", "[", "records", "]"}], ";"}]}], "\[IndentingNewLine]",
     "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"Diff", "[", 
    RowBox[{"prices_", ",", " ", 
     RowBox[{"lag_:", "1"}]}], "]"}], ":=", " ", 
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"Length", "[", "prices", "]"}], "\[GreaterEqual]", " ", "2"}], 
     ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"Drop", "[", 
       RowBox[{"prices", ",", " ", "lag"}], "]"}], " ", "-", " ", 
      RowBox[{"Drop", "[", 
       RowBox[{"prices", ",", " ", 
        RowBox[{"-", "lag"}]}], "]"}]}], ",", "\[IndentingNewLine]", 
     "Nothing"}], "\[IndentingNewLine]", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"GetRecordTimes", "[", "list_", "]"}], ":=", 
   RowBox[{"Diff", "[", 
    RowBox[{"Flatten", "[", 
     RowBox[{"Map", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"FirstPosition", "[", 
         RowBox[{"list", ",", "#"}], "]"}], "&"}], ",", 
       RowBox[{"GetRecords", "[", "list", "]"}]}], "]"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"GetNumberOfRecordBreaks", "[", "datedPrices_", "]"}], ":=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"Last", "[", 
      RowBox[{"datedPrices", "[", 
       RowBox[{"[", 
        RowBox[{"All", ",", "1"}], "]"}], "]"}], "]"}], ",", 
     RowBox[{"Length", "[", 
      RowBox[{"GetRecordTimes", "[", 
       RowBox[{"TrendDuration", "[", 
        RowBox[{"datedPrices", "[", 
         RowBox[{"[", 
          RowBox[{"All", ",", "2"}], "]"}], "]"}], "]"}], "]"}], "]"}]}], 
    "}"}]}], ";"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.771870908834675*^9, 3.771870909109847*^9}, {
   3.771965582358507*^9, 3.771965590724126*^9}, {3.771975669664796*^9, 
   3.771975676626342*^9}, {3.771975709927446*^9, 3.771975755238977*^9}, {
   3.772054759929572*^9, 3.772054764546343*^9}, 3.772055568427092*^9, {
   3.772056479200548*^9, 3.77205648707261*^9}, {3.772056598274733*^9, 
   3.772056637055068*^9}, {3.772056675429101*^9, 3.772056680042654*^9}, {
   3.775917843810184*^9, 3.775917844176216*^9}, {3.7759181566660967`*^9, 
   3.77591819903342*^9}},
 CellLabel->"In[17]:=",ExpressionUUID->"6f09a793-c170-4896-b2d8-2f6dfbc709e2"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"DatedPrices", "[", "market_", "]"}], ":=", 
   RowBox[{"Thread", "[", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"market", "[", "\"\<Dates\>\"", "]"}], ",", 
      RowBox[{"market", "[", "\"\<Prices\>\"", "]"}]}], "}"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"DatedNumberOfRecordBreaks", "[", 
    RowBox[{"market_Association", ",", " ", 
     RowBox[{"window_", " ", ":", "50"}], ",", " ", 
     RowBox[{"skip_", " ", ":", "1"}]}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", "partDatedPrices", "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"partDatedPrices", " ", "=", " ", 
       RowBox[{"Partition", "[", 
        RowBox[{
         RowBox[{"DatedPrices", "[", "market", "]"}], ",", "window", ",", 
         "skip"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"Map", "[", 
       RowBox[{"GetNumberOfRecordBreaks", ",", "partDatedPrices"}], "]"}]}]}],
     "\[IndentingNewLine]", "]"}]}], ";"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.7720515966445312`*^9, 3.77205159691337*^9}, {
  3.772051674339118*^9, 3.772051895587502*^9}, {3.772052912039884*^9, 
  3.7720529578360033`*^9}, {3.775916562432981*^9, 3.77591656280655*^9}, {
  3.775917847812324*^9, 3.775917856583541*^9}, {3.7759181449776363`*^9, 
  3.77591814924891*^9}, {3.775918248908369*^9, 3.7759182747343388`*^9}},
 CellLabel->"In[22]:=",ExpressionUUID->"b01aa546-b396-46fb-9020-6fcc46f82674"],

Cell[BoxData[
 RowBox[{
  RowBox[{"recordBreakDatabase", " ", "=", " ", 
   RowBox[{"ProgressTable", "[", 
    RowBox[{
     RowBox[{"DatedNumberOfRecordBreaks", "[", 
      RowBox[{"database", "[", 
       RowBox[{"[", "i", "]"}], "]"}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", 
       RowBox[{"Length", "[", "database", "]"}]}], "}"}]}], "]"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.7759182761418753`*^9, 3.775918327857916*^9}},
 CellLabel->"In[26]:=",ExpressionUUID->"9e659df7-3bfd-4e89-bf52-8c6eecf186b5"],

Cell[BoxData[
 RowBox[{
  RowBox[{"deletePositions", " ", "=", " ", 
   RowBox[{"Position", "[", 
    RowBox[{
     RowBox[{"Map", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"Length", "[", 
         RowBox[{"#", "[", 
          RowBox[{"[", 
           RowBox[{"All", ",", "2"}], "]"}], "]"}], "]"}], "&"}], ",", 
       "recordBreakDatabase"}], "]"}], ",", "3927"}], "]"}]}], ";"}]], "Input",\

 CellChangeTimes->{{3.7759189565263767`*^9, 3.775918977660222*^9}},
 CellLabel->"In[27]:=",ExpressionUUID->"54c14d1d-fd11-434e-bcdd-6646f39152f6"],

Cell[BoxData[
 RowBox[{
  RowBox[{"cleanRecordBreakDatabase", " ", "=", " ", 
   RowBox[{"Delete", "[", 
    RowBox[{"recordBreakDatabase", ",", "deletePositions"}], "]"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.7759189829789553`*^9, 3.775919005919907*^9}},
 CellLabel->"In[28]:=",ExpressionUUID->"c0ab2132-6be5-46c8-a828-150414df8524"],

Cell[BoxData[
 RowBox[{
  RowBox[{"recordBreakValues", " ", "=", " ", 
   RowBox[{"cleanRecordBreakDatabase", "[", 
    RowBox[{"[", 
     RowBox[{"All", ",", 
      RowBox[{"1", ";;", "50"}], ",", "2"}], "]"}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.7759190260211487`*^9, 3.7759190466104183`*^9}, {
   3.7759204164785357`*^9, 3.775920432967087*^9}, {3.7759206736449747`*^9, 
   3.775920684682686*^9}, {3.775920855917437*^9, 3.7759208560420322`*^9}, 
   3.7759209531038513`*^9},
 CellLabel->"In[29]:=",ExpressionUUID->"a597642a-5096-42f6-ac7b-6cc4650839b6"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"RowCorrelation", "[", 
    RowBox[{"row_", ",", "data_"}], "]"}], ":=", 
   RowBox[{"Map", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"N", "@", 
       RowBox[{"Correlation", "[", 
        RowBox[{
         RowBox[{"data", "[", 
          RowBox[{"[", "row", "]"}], "]"}], ",", "#"}], "]"}]}], "&"}], ",", 
     "data"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"CorrMatrix", "[", "data_", "]"}], ":=", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"RowCorrelation", "[", 
      RowBox[{"i", ",", "data"}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", 
       RowBox[{"Length", "[", "data", "]"}], ",", "1"}], "}"}]}], "]"}]}], 
  ";"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.775919831462734*^9, 3.775919839442678*^9}, {
   3.775919956111973*^9, 3.775920032940529*^9}, {3.7759208640022984`*^9, 
   3.775920881777961*^9}, 3.775927132773978*^9},
 CellLabel->"In[36]:=",ExpressionUUID->"1670aa8a-ab60-4aaf-8b53-846085cc166f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"recordBreakValues", " ", "=", " ", 
   RowBox[{"cleanRecordBreakDatabase", "[", 
    RowBox[{"[", 
     RowBox[{"All", ",", "All", ",", "2"}], "]"}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.775920993137003*^9, 3.775921002627404*^9}},
 CellLabel->"In[30]:=",ExpressionUUID->"a3438d12-3c13-4765-8bb1-74280a959be7"],

Cell[BoxData[
 RowBox[{
  RowBox[{"partitioned", " ", "=", " ", 
   RowBox[{"Map", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"Partition", "[", 
       RowBox[{"#", ",", "50", ",", "25"}], "]"}], "&"}], ",", 
     "recordBreakValues"}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.775921004761595*^9, 3.775921069607361*^9}, {
  3.775927210616314*^9, 3.7759272111571007`*^9}},
 CellLabel->"In[39]:=",ExpressionUUID->"fd1ea2fa-807d-4cdb-a760-ebd3a3e2b543"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"partitionedDates", " ", "=", " ", 
   RowBox[{"GetPartitionedKey", "[", 
    RowBox[{"database", ",", "\"\<Dates\>\"", ",", "50", ",", "25"}], "]"}]}],
   ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"dateIntervals", " ", "=", " ", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"FirstLast", "[", 
      RowBox[{"partitionedDates", "[", 
       RowBox[{"[", 
        RowBox[{"i", ",", "1"}], "]"}], "]"}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", 
       RowBox[{"Length", "[", "partitionedDates", "]"}]}], "}"}]}], "]"}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.7759289905802402`*^9, 3.775928997020137*^9}, {
  3.775929047727015*^9, 3.7759290480066566`*^9}},
 CellLabel->"In[53]:=",ExpressionUUID->"1e65b137-586a-4a50-863d-8eee90804ba1"],

Cell[BoxData[
 RowBox[{
  RowBox[{"recordBreakMatrixTimeSlices", " ", "=", " ", 
   RowBox[{"Transpose", "[", "partitioned", "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.77592107683176*^9, 3.775921088729924*^9}, {
  3.775921129764358*^9, 3.775921136892235*^9}},
 CellLabel->"In[40]:=",ExpressionUUID->"baeec7be-7a84-4e0c-b22c-31f0f8173b28"],

Cell[BoxData[
 RowBox[{
  RowBox[{"corrMatrices", " ", "=", " ", 
   RowBox[{"ProgressParallelMap", "[", 
    RowBox[{"CorrMatrix", ",", "recordBreakMatrixTimeSlices"}], "]"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.775921090473591*^9, 3.775921092079556*^9}, {
   3.775921143983862*^9, 3.775921165766713*^9}, {3.775927137435564*^9, 
   3.775927158077922*^9}, {3.775927248855715*^9, 3.775927256964305*^9}, {
   3.775927388706236*^9, 3.775927390951127*^9}, 3.775927747408321*^9},
 CellLabel->"In[48]:=",ExpressionUUID->"b3ccbee5-44e0-45b0-88ee-c42c2d32133c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"plots", " ", "=", " ", 
   RowBox[{"ProgressTable", "[", 
    RowBox[{
     RowBox[{"MarketStatePlot", "[", 
      RowBox[{
       RowBox[{"corrMatrices", "[", 
        RowBox[{"[", "i", "]"}], "]"}], ",", 
       RowBox[{"dateIntervals", "[", 
        RowBox[{"[", "i", "]"}], "]"}]}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", 
       RowBox[{"Length", "[", "corrMatrices", "]"}]}], "}"}]}], "]"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.775921177907073*^9, 3.775921181319874*^9}, {
   3.775927647263686*^9, 3.7759276805232763`*^9}, {3.77592912778242*^9, 
   3.7759291292835093`*^9}, 3.775929175946455*^9},
 CellLabel->"In[58]:=",ExpressionUUID->"12498362-648e-4234-8511-83d0e2948753"],

Cell[BoxData[
 RowBox[{"Manipulate", "[", 
  RowBox[{
   RowBox[{"Part", "[", 
    RowBox[{"plots", ",", "i"}], "]"}], ",", 
   RowBox[{"{", 
    RowBox[{"i", ",", "1", ",", 
     RowBox[{"Length", "[", "plots", "]"}], ",", "1"}], "}"}]}], 
  "]"}]], "Input",
 CellLabel->"In[49]:=",ExpressionUUID->"1cc56fa6-3aaa-4c10-b277-5bd2b7f25117"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ExportImages", "[", 
   RowBox[{
    RowBox[{"FileNameJoin", "[", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"NotebookDirectory", "[", "]"}], ",", 
       "\"\<CorrelationMatrix\>\"", ",", "\"\<corr.png\>\""}], "}"}], "]"}], 
    ",", "plots"}], "]"}], ";"}]], "Input",
 CellLabel->"In[59]:=",ExpressionUUID->"7f4d6a13-ac9a-4dfd-975f-4b3a9ae7b60a"],

Cell["\<\
- Build databases of NASDAQ and Dow-Jones, DAX, Japan, India, etc. 
- Calculate record breaks for entire market in a non-overlaping window. A \
distribution for the entire market and see evolution in time.\
\>", "Text",
 CellChangeTimes->{{3.776004780322982*^9, 3.776004802076495*^9}, {
  3.776004956288701*^9, 3.776004968109559*^9}, {3.776005937808131*^9, 
  3.776005951075762*^9}, {3.776006076854269*^9, 3.7760061020613613`*^9}, {
  3.7760061537914248`*^9, 
  3.776006166813623*^9}},ExpressionUUID->"eabe9496-5983-4fa0-964f-\
7e6e013402a5"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
WindowSize->{931, 1013},
WindowMargins->{{0, Automatic}, {0, Automatic}},
FrontEndVersion->"12.0 para Linux x86 (64-bit) (April 8, 2019)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "Info1783761316460-1734536"->{
  Cell[24678, 653, 581, 9, 123, "Print",ExpressionUUID->"0bd904c5-d636-4ac4-ac96-5392ddc0b8a0",
   CellTags->"Info1783761316460-1734536"]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"Info1783761316460-1734536", 53569, 1440}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 285, 5, 99, "Title",ExpressionUUID->"88e840ea-8f4f-4d59-8693-0e576135ce92"],
Cell[CellGroupData[{
Cell[890, 31, 187, 4, 70, "Chapter",ExpressionUUID->"f899e93a-32f3-45ef-8edf-829894065184"],
Cell[1080, 37, 3804, 74, 263, "Input",ExpressionUUID->"e235a283-3f68-43bf-955f-43950f9ccb4e",
 InitializationCell->True],
Cell[4887, 113, 1725, 40, 324, "Input",ExpressionUUID->"d56489aa-9dd2-43c6-8c62-f3bd38d6facd",
 InitializationCell->True],
Cell[CellGroupData[{
Cell[6637, 157, 169, 3, 55, "Subsection",ExpressionUUID->"c94f095a-865f-4658-94b2-ba0e547c93ba"],
Cell[CellGroupData[{
Cell[6831, 164, 139, 2, 31, "Input",ExpressionUUID->"610fe912-1df5-45e1-996f-0f46af0565c0"],
Cell[6973, 168, 5462, 152, 234, "Print",ExpressionUUID->"4ad4f3a3-27a5-4ddb-a35a-4f93cc650d56"]
}, Open  ]],
Cell[CellGroupData[{
Cell[12472, 325, 190, 4, 31, "Input",ExpressionUUID->"4a172e87-b256-4b32-b5ac-ddcd146f8c77"],
Cell[CellGroupData[{
Cell[12687, 333, 11988, 318, 484, "Print",ExpressionUUID->"6a48294c-f325-42a1-97e4-793bc5102b03"],
Cell[24678, 653, 581, 9, 123, "Print",ExpressionUUID->"0bd904c5-d636-4ac4-ac96-5392ddc0b8a0",
 CellTags->"Info1783761316460-1734536"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[25332, 670, 153, 3, 70, "Chapter",ExpressionUUID->"a8a789b8-ded9-4a5d-b58a-e23e4cd8766a"],
Cell[25488, 675, 1154, 23, 71, "Input",ExpressionUUID->"2fa64f7c-262f-4161-a7b3-543fbe095465",
 InitializationCell->True],
Cell[26645, 700, 325, 9, 47, "Input",ExpressionUUID->"f895c49f-09a7-4995-850b-a8c9a587def6",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[27007, 714, 162, 3, 70, "Chapter",ExpressionUUID->"0190611d-f45f-4a02-975e-91126c56f5fd"],
Cell[27172, 719, 1439, 38, 117, "Input",ExpressionUUID->"92d43ea2-685b-46e5-91fa-0f46008f0bcf",
 InitializationCell->True],
Cell[28614, 759, 4493, 115, 508, "Input",ExpressionUUID->"f362cc49-b40d-4adf-ac78-6a7b326fcc34",
 InitializationCell->True],
Cell[CellGroupData[{
Cell[33132, 878, 159, 3, 55, "Subsection",ExpressionUUID->"832ce087-1c50-4aa5-be67-10736285a049"],
Cell[33294, 883, 187, 3, 36, "Text",ExpressionUUID->"cc0d0266-26c7-463e-b8c2-440208c3bdf7"],
Cell[33484, 888, 745, 15, 55, "Input",ExpressionUUID->"c484f9aa-f502-41d7-830c-c8d996f4b3c3"],
Cell[34232, 905, 179, 3, 36, "Text",ExpressionUUID->"e9b03335-1803-45b8-8f63-4abe98f63516"],
Cell[34414, 910, 1033, 25, 55, "Input",ExpressionUUID->"e0239cc0-d64d-40d8-b2be-92cd9af2d0c7"],
Cell[35450, 937, 154, 3, 36, "Text",ExpressionUUID->"693f3cf3-f618-4545-81a6-92d7d049a8bd"],
Cell[35607, 942, 725, 18, 55, "Input",ExpressionUUID->"f052b6cb-6b50-4816-8ab1-44862c04ca12"],
Cell[36335, 962, 455, 11, 31, "Input",ExpressionUUID->"ffce906f-52e6-4dd0-96a3-ef1068add58b"],
Cell[36793, 975, 150, 3, 36, "Text",ExpressionUUID->"4ac8c1b0-b3d6-4761-9a5a-5a0ed2f0d16c"],
Cell[36946, 980, 343, 9, 55, "Input",ExpressionUUID->"a168c0c3-a772-497e-801f-f178a5af89c0"]
}, Open  ]],
Cell[CellGroupData[{
Cell[37326, 994, 161, 3, 55, "Subsection",ExpressionUUID->"b67f7328-96bd-4c86-940f-6d7e67e1b02c"],
Cell[37490, 999, 641, 15, 55, "Input",ExpressionUUID->"c97fa9cc-82b5-4471-ad4c-c2ba26e99cf0"],
Cell[38134, 1016, 819, 23, 55, "Input",ExpressionUUID->"7b8827a1-ace2-4ee3-9856-7394ad68c5a0"],
Cell[38956, 1041, 683, 18, 55, "Input",ExpressionUUID->"2afc1226-960d-4683-a881-28279c30229a"],
Cell[39642, 1061, 415, 12, 31, "Input",ExpressionUUID->"f4bfcd17-ab46-4570-8a1e-8a38b166137b"],
Cell[40060, 1075, 338, 9, 31, "Input",ExpressionUUID->"22494701-edc0-472a-80ff-675918ca2f54"]
}, Open  ]],
Cell[CellGroupData[{
Cell[40435, 1089, 165, 3, 55, "Subsection",ExpressionUUID->"538c971a-9c7f-42f1-a404-0c20aacc8d2a"],
Cell[40603, 1094, 3437, 91, 347, "Input",ExpressionUUID->"6f09a793-c170-4896-b2d8-2f6dfbc709e2",
 InitializationCell->True],
Cell[44043, 1187, 1519, 34, 163, "Input",ExpressionUUID->"b01aa546-b396-46fb-9020-6fcc46f82674",
 InitializationCell->True],
Cell[45565, 1223, 541, 13, 55, "Input",ExpressionUUID->"9e659df7-3bfd-4e89-bf52-8c6eecf186b5"],
Cell[46109, 1238, 552, 15, 31, "Input",ExpressionUUID->"54c14d1d-fd11-434e-bcdd-6646f39152f6"],
Cell[46664, 1255, 341, 7, 31, "Input",ExpressionUUID->"c0ab2132-6be5-46c8-a828-150414df8524"],
Cell[47008, 1264, 566, 11, 31, "Input",ExpressionUUID->"a597642a-5096-42f6-ac7b-6cc4650839b6"],
Cell[47577, 1277, 1056, 29, 71, "Input",ExpressionUUID->"1670aa8a-ab60-4aaf-8b53-846085cc166f",
 InitializationCell->True],
Cell[48636, 1308, 355, 7, 31, "Input",ExpressionUUID->"a3438d12-3c13-4765-8bb1-74280a959be7"],
Cell[48994, 1317, 462, 11, 31, "Input",ExpressionUUID->"fd1ea2fa-807d-4cdb-a760-ebd3a3e2b543"],
Cell[49459, 1330, 816, 20, 55, "Input",ExpressionUUID->"1e65b137-586a-4a50-863d-8eee90804ba1"],
Cell[50278, 1352, 343, 6, 31, "Input",ExpressionUUID->"baeec7be-7a84-4e0c-b22c-31f0f8173b28"],
Cell[50624, 1360, 561, 10, 31, "Input",ExpressionUUID->"b3ccbee5-44e0-45b0-88ee-c42c2d32133c"],
Cell[51188, 1372, 751, 18, 55, "Input",ExpressionUUID->"12498362-648e-4234-8511-83d0e2948753"],
Cell[51942, 1392, 338, 9, 31, "Input",ExpressionUUID->"1cc56fa6-3aaa-4c10-b277-5bd2b7f25117"],
Cell[52283, 1403, 390, 10, 31, "Input",ExpressionUUID->"7f4d6a13-ac9a-4dfd-975f-4b3a9ae7b60a"],
Cell[52676, 1415, 552, 10, 84, "Text",ExpressionUUID->"eabe9496-5983-4fa0-964f-7e6e013402a5"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}
]
*)

